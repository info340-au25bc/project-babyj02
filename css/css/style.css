/* The Capsule â€” shared styles */

/* Theme tokens */
:root{
  --bg:#FAF9F7;
  --surface:#FFFFFF;
  --ink:#2B2A29;
  --muted:#6E6A67;
  --line:#E8E5E1;
  --accent:#C0B6A4;
  --accent-ink:#3A3733;

  --r-card:20px;
  --r-input:12px;
  --r-pill:9999px;

  --fs-14:14px;
  --fs-16:16px;
  --fs-18:18px;
  --fs-24:24px;
  --fs-32:32px;

  --shadow: 0 1px 1px rgba(0,0,0,.04), 0 8px 24px rgba(0,0,0,.06);

  --s-4:4px; --s-8:8px; --s-12:12px; --s-16:16px; --s-24:24px; --s-32:32px; --s-48:48px;

  --w-narrow:760px;
  --w-container:1100px;
}

/* Base */
*{box-sizing:border-box}
html{font-family:Inter,"SF Pro Text",system-ui,-apple-system,Segoe UI,Roboto,sans-serif; color:var(--ink); background:var(--bg); line-height:1.5; letter-spacing:.01em}
body{margin:0}
img{max-width:100%; display:block; border-radius:inherit}

/* Type */
.h1{font-size:var(--fs-32); margin:0 0 var(--s-8)}
.h2{font-size:var(--fs-24); margin:0 0 var(--s-12)}
.h3{font-size:var(--fs-18); margin:0 0 var(--s-12)}
.h4{font-size:var(--fs-16); margin:0 0 var(--s-8)}
.h5{font-size:var(--fs-14); margin:var(--s-8) 0 0}
.muted{color:var(--muted)}
.visually-hidden{position:absolute!important; clip:rect(1px,1px,1px,1px); padding:0; border:0; height:1px; width:1px; overflow:hidden}

/* Layout helpers */
.container{width:100%; max-width:var(--w-container); margin-inline:auto; padding:0 var(--s-16)}
.narrow{max-width:var(--w-narrow)}
.stack{display:flex; flex-direction:column; gap:var(--s-16)}
.grid{display:grid; grid-template-columns:1fr; gap:var(--s-16); margin-block:var(--s-16)}

/* Card */
.card{background:var(--surface); border:1px solid var(--line); border-radius:var(--r-card); box-shadow:var(--shadow); padding:var(--s-16); transition:transform .15s ease, box-shadow .15s ease}
.card:hover{transform:translateY(-1px)}
@media (prefers-reduced-motion: reduce){ .card:hover{transform:none} }

/* Header */
.site-header{position:sticky; top:0; backdrop-filter:saturate(180%) blur(6px); background:rgba(250,249,247,.85); border-bottom:1px solid var(--line); z-index:10}
.header-bar{display:flex; align-items:center; justify-content:space-between; gap:var(--s-16); padding-block:var(--s-12)}
.brand{font-weight:600; text-decoration:none; color:var(--ink)}
.nav{display:flex; gap:var(--s-8); list-style:none; margin:0; padding:0}
.nav a{display:inline-block; padding:.5rem .75rem; border-radius:var(--r-pill); color:var(--ink); text-decoration:none; border:1px solid transparent}
.nav a[aria-current="page"]{background:var(--surface); border-color:var(--line); box-shadow:var(--shadow)}

/* Footer */
.site-footer{border-top:1px solid var(--line); margin-top:var(--s-32)}
.footer-bar{display:flex; flex-direction:column; gap:var(--s-8); padding:var(--s-16)}

/* Hero */
.hero{padding:0; overflow:hidden}
.hero-img{width:100%; height:220px; object-fit:cover}
.hero-copy{padding:var(--s-16)}

/* Forms */
.form-grid{display:grid; grid-template-columns:1fr; gap:var(--s-12)}
.form-grid.micro{gap:var(--s-8)}
.form-control{display:flex; flex-direction:column; gap:var(--s-8)}
label, legend{font-size:var(--fs-14); color:var(--muted)}
input[type="text"], input[type="search"], input[type="number"], input[type="range"], select{
  appearance:none; border:1px solid var(--line); background:#fff; padding:.625rem .75rem; border-radius:var(--r-input); font-size:var(--fs-16)
}
input[type="range"]{padding:0}
input:focus-visible, select:focus-visible{outline:2px solid var(--accent); outline-offset:2px; background:rgba(192,182,164,.08)}
.hint small{margin-top:-4px}

/* Swatches */
.swatches{display:flex; gap:var(--s-12); align-items:center}
.swatches input{position:absolute; opacity:0; width:0; height:0}
.swatch{width:28px; height:28px; border-radius:var(--r-pill); border:1px solid var(--line); display:inline-block; box-shadow:var(--shadow); cursor:pointer}
.sw-ivory{background:#f4efe9}
.sw-black{background:#111}
.sw-blue{background:#6d8db8}
.sw-beige{background:#d7cbb8}
.swatches input:focus-visible + .swatch{outline:2px solid var(--accent); outline-offset:3px}
.swatches input:checked + .swatch{box-shadow:0 0 0 3px rgba(192,182,164,.4)}

/* Buttons */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:.5rem; padding:.6rem 1rem; border-radius:var(--r-pill); background:var(--accent); color:var(--accent-ink); border:1px solid var(--accent); text-decoration:none; font-weight:500; transition:filter .15s ease, transform .15s ease}
.btn:hover{filter:brightness(.98)}
.btn:active{transform:translateY(1px)}
.btn.ghost{background:transparent; color:var(--ink); border-color:var(--line)}
.btn.danger{background:#e5c2c2; border-color:#e5c2c2; color:#531d1d}
.form-actions{display:flex; gap:var(--s-8); flex-wrap:wrap}

/* Item cards */
.item img{width:100%; aspect-ratio: 4 / 3; object-fit:cover; border-radius:16px}
.item-body{display:flex; flex-direction:column; gap:var(--s-12); margin-top:var(--s-12)}
.item-meta{display:flex; align-items:center; justify-content:space-between}
.price{font-weight:600}

/* Chips */
.chips{display:flex; gap:var(--s-8); list-style:none; padding:0; margin:0}
.chip{display:inline-flex; align-items:center; padding:.25rem .5rem; border:1px solid var(--line); border-radius:var(--r-pill); background:var(--surface); color:var(--muted); font-size:var(--fs-14)}
.chip.pill{padding:.35rem .75rem}

/* Page head */
.page-head{margin:var(--s-16) 0 var(--s-8)}

/* Add page */
.dropzone{display:grid; place-items:center; height:160px; border:1px dashed var(--line); border-radius:var(--r-card); background:linear-gradient(180deg, #fff, #fcfbfa)}
.dropzone span{color:var(--muted)}

/* Builder layout (glitch-proof) */
.builder{display:grid; gap:var(--s-16); align-items:start}
.palette{min-width:280px; width:clamp(280px, 32vw, 360px); overflow:hidden}
.palette .thumbs{display:grid; grid-template-columns:repeat(auto-fill, minmax(110px, 1fr)); gap:var(--s-8); margin-top:var(--s-12)}
.thumb{min-width:0}
.thumb img{aspect-ratio:1/1; object-fit:cover; border-radius:12px}
.thumb figcaption{text-align:center; font-size:var(--fs-14); color:var(--muted); margin-top:4px}
.canvas-area{min-width:0}
.canvas-area .dropzones{display:grid; grid-template-columns:1fr 1fr; gap:var(--s-12)}
.dropzone{display:grid; place-items:center; min-height:120px; border:1px solid var(--line); border-radius:16px; background:#fff}
.sliders{display:grid; grid-template-columns:1fr; gap:var(--s-12); margin-top:var(--s-16)}
.palette-chips{display:flex; gap:var(--s-8); flex-wrap:wrap; margin-top:var(--s-12)}

/* Outfit page */
.outfit-grid{display:grid; grid-template-columns:1fr; gap:var(--s-16); margin-top:var(--s-16)}
.outfit-hero{padding:0; overflow:hidden}
.outfit-hero .hero-img{width:100%; height:280px; object-fit:cover}
.stats{display:grid; grid-template-columns:1fr 1fr; gap:var(--s-12)}
.stats dt{color:var(--muted); font-size:var(--fs-14)}
.stats dd{margin:0; font-weight:600}

/* Planner */
.planner .week-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:var(--s-12)}
.day{border:1px solid var(--line); border-radius:16px; padding:var(--s-12); background:var(--surface)}
.day-name{margin:0 0 var(--s-8); font-size:var(--fs-16)}
.slots{display:flex; flex-direction:column; gap:var(--s-8)}
.drawer-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:var(--s-12)}
.mini-outfit{background:var(--surface); border:1px solid var(--line); border-radius:16px; padding:var(--s-12)}
.mini-outfit img{width:100%; aspect-ratio: 4 / 3; object-fit:cover; border-radius:12px}

/* Links */
a{color:inherit}
a:hover{text-decoration:underline}

/* Media queries */
@media (min-width:600px){
  .grid{grid-template-columns:repeat(2,1fr)}
  .form-grid{grid-template-columns:repeat(4,1fr)}
  .builder{grid-template-columns:clamp(280px, 32vw, 360px) 1fr}
  .palette .thumbs{grid-template-columns:repeat(auto-fill, minmax(120px, 1fr))}
  .sliders{grid-template-columns:1fr 1fr}
  .outfit-grid{grid-template-columns:2fr 1fr}
  .planner .week-grid{grid-template-columns:repeat(4,1fr)}
  .drawer-grid{grid-template-columns:repeat(4,1fr)}
}

@media (min-width:1024px){
  .grid{grid-template-columns:repeat(4,1fr)}
  .builder{grid-template-columns:clamp(300px, 28vw, 380px) 1fr}
  .canvas-area .dropzones{grid-template-columns:repeat(4,1fr)}
  .palette .thumbs{grid-template-columns:repeat(auto-fill, minmax(128px, 1fr))}
  .planner .week-grid{grid-template-columns:repeat(7,1fr)}
}

/* Focus outline */
:focus-visible{outline:2px solid var(--accent); outline-offset:3px}
